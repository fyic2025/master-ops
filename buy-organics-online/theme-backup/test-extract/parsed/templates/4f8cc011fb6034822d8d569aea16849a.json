{"layout/empty":"<!DOCTYPE html>\n<html>\n<head>\n    <title>{{ head.title }}</title>\n    {{{ head.meta_tags }}}\n    {{{ head.config }}}\n\n    <link href=\"{{ head.favicon }}\" rel=\"shortcut icon\">\n    {{#block \"head\"}}{{/block}}\n</head>\n<body>\n    {{#block \"page\"}}{{/block}}\n</body>\n</html>\n","pages/checkout":"{{#partial \"head\"}}\r\n\r\n{{{ checkout.checkout_head }}}\r\n{{{ stylesheet '/assets/css/optimized-checkout.css' }}}\r\n{{ getFontsCollection }}\r\n\r\n<script type=\"text/javascript\">\r\n    window.language = {{{langJson 'optimized_checkout'}}};\r\n</script>\r\n{{{head.scripts}}}\r\n\r\n{{/partial}}\r\n\r\n{{#partial \"page\"}}\r\n<header class=\"checkoutHeader optimizedCheckout-header\">\r\n    <div class=\"checkoutHeader-content\">\r\n        <h1 class=\"is-srOnly\">{{lang 'checkout.title'}}</h1>\r\n        <h2 class=\"checkoutHeader-heading\">\r\n            <a class=\"checkoutHeader-link\" href=\"{{urls.home}}\">\r\n                {{#if checkout.header_image}}\r\n                    <img alt=\"{{settings.store_logo.title}}\" class=\"checkoutHeader-logo\" id=\"logoImage\" src=\"{{ checkout.header_image }}\"/>\r\n                {{ else }}\r\n                    <span class=\"header-logo-text\">{{settings.store_logo.title}}</span>\r\n                {{/if}}\r\n            </a>\r\n        </h2>\r\n    </div>\r\n</header>\r\n\r\n{{{ checkout.checkout_content }}}\r\n\r\n{{{ footer.scripts }}}\r\n<style type=\"text/css\">\r\n    .form-checklist-item.optimizedCheckout-form-checklist-item:first-child .paymentProviderHeader-cc .creditCardTypes-list-item:nth-child(3), .form-checklist-item.optimizedCheckout-form-checklist-item:first-child .paymentProviderHeader-cc .creditCardTypes-list-item:nth-child(4) {\r\n    \tdisplay: none !important;\r\n    }\r\n\r\n</style>\r\n<script type=\"text/javascript\">\r\n    var get_format_msg = '<p class=\"mobile_num_con\">Mobile number with the country code, e.g., +61.</p>';\r\n    $(document).on('keyup', '#field_27', function(event) {\r\n        if($(this).parent().find('.mobile_num_con').length === 0) {\r\n            $(this).after(get_format_msg);\r\n        }\r\n    });     \r\n    $(document).on('submit', '#checkout-customer-returning', function(event) {\r\n        var mobileNumber = $('#field_27').val();\r\n        var phonePattern = /^\\+?[1-9]\\d{1,14}$/; // E.164 format validation\r\n        \r\n        if (!phonePattern.test(mobileNumber)) {\r\n            event.preventDefault(); // Prevent form submission\r\n            alert('Please enter a valid mobile number.'); // Alert user\r\n            $('#field_27').focus(); // Focus on the mobile number field\r\n\r\n            // Check if the clone button already exists\r\n            if ($('#checkout-customer-create_clone').length === 0) {\r\n                // Clone the Create Account button and modify it\r\n                var cloneButton = $('<button>', {\r\n                    id: 'checkout-customer-create_clone',\r\n                    class: 'button button--primary optimizedCheckout-buttonPrimary',\r\n                    text: 'Create Account',\r\n                    type: 'button', // Ensure it's not of type submit\r\n                });\r\n                \r\n                // Insert the cloned button after the original one\r\n                $('#checkout-customer-create').after(cloneButton);\r\n                $('#checkout-customer-create').hide();\r\n            } else {\r\n                //$('#checkout-customer-create_clone').remove();\r\n                //$('#checkout-customer-create').show();\r\n            }\r\n\r\n            return false; // Stop execution of other handlers\r\n        }\r\n    });\r\n    $(document).on('click', '#checkout-customer-create_clone', function (event) {\r\n        var mobileNumber = $('#field_27').val();\r\n        // Updated validation pattern to enforce country code (e.g., +61)\r\n        var phonePattern = /^\\+[1-9]\\d{1,14}$/; // Must start with '+' followed by 1-15 digits\r\n    \r\n        if (!phonePattern.test(mobileNumber)) {\r\n            event.preventDefault(); // Prevent form submission\r\n            alert('Please enter a valid mobile number with the country code, e.g., +61.'); // Alert user\r\n            $('#field_27').focus(); // Focus on the mobile number field\r\n        } else {\r\n            $('#checkout-customer-create_clone').remove(); // Remove the cloned button\r\n            $('#checkout-customer-create').show(); // Show the original submit button\r\n            $('#checkout-customer-create').click();\r\n        }\r\n    });\r\n\r\n</script>\r\n{{/partial}}\r\n\r\n{{> layout/empty}}\r\n"}
