{
  "permissions": {
    "allow": [
      "Bash(git -C:*)",
      "Bash(timeout 30 npx tsx:*)",
      "Bash(git -C c:/Users/jayso/master-ops commit -m \"$(cat <<''EOF''\nUpdate TASKS.md with health check notes\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(powershell \"Start-Sleep -Seconds 180; doctl apps list-deployments 1a0eed70-aef6-415e-953f-d2b7f0c7c832 --format ID,Phase,Progress --no-header 2>&1 | Select-Object -First 1\")",
      "Bash(npx tsc:*)",
      "Bash(npm ls:*)",
      "Bash(find:*)",
      "Bash(ssh root@170.64.223.141 \"free -h && echo ''---'' && top -b -o %MEM -n 1 | head -20\")",
      "Bash(npx tsx:*)",
      "Bash(doctl compute droplet list:*)",
      "Bash(ssh root@134.199.175.243 \"free -h && echo ''---'' && top -b -o %MEM -n 1 | head -15\")",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git push:*)",
      "Bash(doctl apps create-deployment:*)",
      "Bash(doctl apps list-deployments:*)",
      "Bash(powershell \"Start-Sleep -Seconds 30; doctl apps list-deployments 1a0eed70-aef6-415e-953f-d2b7f0c7c832 --format ID,Progress,Phase --no-header 2>&1 | Select-Object -First 1\")",
      "Bash(powershell \"Start-Sleep -Seconds 45; doctl apps list-deployments 1a0eed70-aef6-415e-953f-d2b7f0c7c832 --format ID,Progress,Phase --no-header 2>&1 | Select-Object -First 1\")",
      "Bash(node -e:*)",
      "Bash(ssh root@170.64.223.141 \"pm2 list 2>/dev/null || echo ''PM2 not running''; docker ps -a 2>/dev/null || echo ''No docker''; ps aux --sort=-%mem | head -15\")",
      "Bash(ssh root@134.199.175.243 \"docker ps --format ''table {{.Names}}\\t{{.Status}}\\t{{.Ports}}''; pm2 list 2>/dev/null || echo ''No PM2''\")",
      "Bash(ssh root@134.199.175.243 \"df -h /\")",
      "Bash(ssh root@170.64.223.141 \"df -h /\")",
      "Bash(node -e \"\nconst { execSync } = require(''child_process'');\ntry {\n  execSync(''npx tsc --noEmit'', { encoding: ''utf-8'' });\n} catch (e) {\n  const output = e.stdout || e.stderr || '''';\n  console.log(''Output length:'', output.length);\n  console.log(''First 500 chars:'', output.slice(0, 500));\n  const regex = /^(.+?)\\((\\d+),(\\d+)\\):\\s*(error|warning)\\s+(TS\\d+):\\s*(.+)$/;\n  const lines = output.split(''\\n'');\n  console.log(''Lines count:'', lines.length);\n  console.log(''First line:'', JSON.stringify(lines[0]));\n  console.log(''Regex match:'', regex.test(lines[0]));\n}\n\")",
      "Bash(ssh root@170.64.223.141 \"pm2 show gsc-issues-sync | head -30\")",
      "Bash(ssh root@134.199.175.243 \"ls -la /var/www/master-ops/buy-organics-online/ 2>/dev/null | head -20 || echo ''Directory not found''\")",
      "Bash(ssh root@134.199.175.243 \"ls -la /var/www/master-ops/buy-organics-online/gsc-issues-cron.js 2>/dev/null || echo ''File not found''; cd /var/www/master-ops && git pull origin main 2>&1 | tail -10\")",
      "Bash(ssh root@134.199.175.243 \"cd /var/www/master-ops && git stash && git pull origin main\")",
      "Bash(ssh root@134.199.175.243 \"cd /var/www/master-ops && npm install 2>&1 | tail -5\")",
      "Bash(ssh root@134.199.175.243 \"cd /var/www/master-ops && pm2 start buy-organics-online/gsc-issues-cron.js --name gsc-issues-sync && pm2 save\")",
      "Bash(ssh:*)",
      "Bash(ssh root@170.64.223.141 \"pm2 stop gsc-issues-sync && pm2 delete gsc-issues-sync && pm2 save\")",
      "Bash(powershell \"Start-Sleep -Seconds 60; doctl apps list-deployments 1a0eed70-aef6-415e-953f-d2b7f0c7c832 --format ID,Progress,Phase --no-header 2>&1 | Select-Object -First 1\")",
      "Bash(doctl compute droplet delete:*)",
      "Bash(powershell \"Start-Sleep -Seconds 90; doctl apps list-deployments 1a0eed70-aef6-415e-953f-d2b7f0c7c832 --format ID,Progress,Phase --no-header 2>&1 | Select-Object -First 1\")",
      "Bash(doctl apps logs:*)",
      "Bash(curl:*)"
    ],
    "deny": [],
    "ask": []
  },
  "hooks": {
    "SessionEnd": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "node c:/Users/jayso/master-ops/scripts/session-exit.js"
          }
        ]
      }
    ]
  }
}
